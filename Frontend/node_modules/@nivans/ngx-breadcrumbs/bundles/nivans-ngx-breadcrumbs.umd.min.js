!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("rxjs/internal/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("@nivans/ngx-breadcrumbs",["exports","@angular/core","rxjs","@angular/router","rxjs/internal/operators","@angular/common"],e):e((r.nivans=r.nivans||{},r.nivans["ngx-breadcrumbs"]={}),r.ng.core,r.rxjs,r.ng.router,r.rxjs["internal/operators"],r.ng.common)}(this,function(r,e,t,n,o,a){"use strict";var u=function(){function r(){this.dynamicCrumbs=new t.Subject}return r.prototype.customCrumbTitle=function(r,e){var t={label:r,component:e};this.dynamicCrumbs.next(t)},r.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],r.ctorParameters=function(){return[]},r.ngInjectableDef=e.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r}();function i(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,a=t.call(r),u=[];try{for(;(void 0===e||0<e--)&&!(n=a.next()).done;)u.push(n.value)}catch(i){o={error:i}}finally{try{n&&!n.done&&(t=a["return"])&&t.call(a)}finally{if(o)throw o.error}}return u}var c=function(){function r(r,e,t){this.router=r,this.activatedRoute=e,this.service=t,this.customCrumbs=[],this.show=!0}return r.prototype.ngOnInit=function(){var e=this;this.router.events.pipe(o.filter(function(r){return r instanceof n.NavigationEnd})).subscribe(function(){e.breadcrumbs=e.handleRoute(e.activatedRoute.root)}),this.service.dynamicCrumbs.subscribe(function(r){e.customCrumbs[r.component]=r,e.breadcrumbs=e.handleRoute(e.activatedRoute.root)})},r.prototype.handleRoute=function(r,e){if(void 0===e&&(e=[]),0===e.length&&e.push(this.getCrumbFromRoute(this.getHomeRoute())),null!==r.routeConfig&&"data"in r.routeConfig&&"breadcrumb"in r.routeConfig.data&&!r.routeConfig.data.isHome){var t=e[e.length-1]?e[e.length-1].url:"",n=r.routeConfig.component&&this.customCrumbs[r.routeConfig.component.name],o=this.getCrumbFromRoute(r.routeConfig,t);e=function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(i(arguments[e]));return r}(e,[n?Object.assign(o,n):o])}return r.firstChild?this.handleRoute(r.firstChild,e):(delete e[e.length-1].url,this.show=e[e.length-1].show,e)},r.prototype.getHomeRoute=function(){return this.router.config.filter(function(r){return r.data&&r.data.isHome})[0]},r.prototype.getCrumbFromRoute=function(r,e){return void 0===e&&(e=null),{label:r.data&&r.data.breadcrumb,url:e?e+"/"+r.path:r.path||"/",component:r.component&&r.component.name,icon:r.data.icon,show:!r.data.hasOwnProperty("show")||r.data.show}},r.decorators=[{type:e.Component,args:[{selector:"nvs-ngx-breadcrumbs",template:'\n    <nav aria-label="breadcrumb"\n         *ngIf="show">\n      <ol class="breadcrumb">\n        <li *ngFor="let breadcrumb of breadcrumbs"\n            class="breadcrumb-item"\n            [ngClass]="{\'active\': !breadcrumb.url}">\n          <a [routerLink]="[breadcrumb.url]"\n             *ngIf="breadcrumb.url">\n            <i class="{{ breadcrumb.icon }}" *ngIf="breadcrumb.icon"></i>\n            {{ breadcrumb.label }}\n          </a>\n          <span *ngIf="!breadcrumb.url">\n            <i class="{{ breadcrumb.icon }}" *ngIf="breadcrumb.icon"></i>\n            {{ breadcrumb.label }}\n          </span>\n        </li>\n      </ol>\n    </nav>\n  ',styles:[]}]}],r.ctorParameters=function(){return[{type:n.Router},{type:n.ActivatedRoute},{type:u}]},r}(),s=function(){function r(){}return r.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,n.RouterModule],declarations:[c],exports:[c],providers:[u]}]}],r}();r.NgxBreadcrumbsService=u,r.NgxBreadcrumbsComponent=c,r.NgxBreadcrumbsModule=s,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=nivans-ngx-breadcrumbs.umd.min.js.map