import { Injectable, NgModule, defineInjectable, Component } from '@angular/core';
import { Subject } from 'rxjs';
import { __spread } from 'tslib';
import { ActivatedRoute, NavigationEnd, Router, RouterModule } from '@angular/router';
import { filter } from 'rxjs/internal/operators';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxBreadcrumbsService = /** @class */ (function () {
    function NgxBreadcrumbsService() {
        this.dynamicCrumbs = new Subject();
    }
    /**
     * @param {?} title
     * @param {?=} component
     * @return {?}
     */
    NgxBreadcrumbsService.prototype.customCrumbTitle = /**
     * @param {?} title
     * @param {?=} component
     * @return {?}
     */
    function (title, component) {
        var /** @type {?} */ crumb = { label: title, component: component };
        this.dynamicCrumbs.next(crumb);
    };
    NgxBreadcrumbsService.decorators = [
        { type: Injectable, args: [{ providedIn: 'root' },] },
    ];
    /** @nocollapse */
    NgxBreadcrumbsService.ctorParameters = function () { return []; };
    /** @nocollapse */ NgxBreadcrumbsService.ngInjectableDef = defineInjectable({ factory: function NgxBreadcrumbsService_Factory() { return new NgxBreadcrumbsService(); }, token: NgxBreadcrumbsService, providedIn: "root" });
    return NgxBreadcrumbsService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxBreadcrumbsComponent = /** @class */ (function () {
    function NgxBreadcrumbsComponent(router, activatedRoute, service) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.service = service;
        this.customCrumbs = [];
        this.show = true;
    }
    /**
     * @return {?}
     */
    NgxBreadcrumbsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.router.events
            .pipe(filter(function (event) { return event instanceof NavigationEnd; }))
            .subscribe(function () {
            _this.breadcrumbs = _this.handleRoute(_this.activatedRoute.root);
        });
        this.service.dynamicCrumbs.subscribe(function (crumb) {
            _this.customCrumbs[crumb.component] = crumb;
            _this.breadcrumbs = _this.handleRoute(_this.activatedRoute.root);
        });
    };
    /**
     * @param {?} route
     * @param {?=} breadcrumbs
     * @return {?}
     */
    NgxBreadcrumbsComponent.prototype.handleRoute = /**
     * @param {?} route
     * @param {?=} breadcrumbs
     * @return {?}
     */
    function (route, breadcrumbs) {
        if (breadcrumbs === void 0) { breadcrumbs = []; }
        if (breadcrumbs.length === 0) {
            breadcrumbs.push(this.getCrumbFromRoute(this.getHomeRoute()));
        }
        if (route.routeConfig !== null &&
            'data' in route.routeConfig &&
            'breadcrumb' in route.routeConfig.data &&
            !route.routeConfig.data["isHome"]) {
            var /** @type {?} */ urlPrefix = breadcrumbs[breadcrumbs.length - 1] ? breadcrumbs[breadcrumbs.length - 1].url : '';
            var /** @type {?} */ customCrumb = route.routeConfig.component && this.customCrumbs[route.routeConfig.component.name];
            var /** @type {?} */ defaultCrumb = this.getCrumbFromRoute(route.routeConfig, urlPrefix);
            var /** @type {?} */ crumb = customCrumb ? Object.assign(defaultCrumb, customCrumb) : defaultCrumb;
            breadcrumbs = __spread(breadcrumbs, [crumb]);
        }
        if (route.firstChild) {
            return this.handleRoute(route.firstChild, breadcrumbs);
        }
        delete (breadcrumbs[breadcrumbs.length - 1].url);
        this.show = breadcrumbs[breadcrumbs.length - 1].show;
        return breadcrumbs;
    };
    /**
     * @return {?}
     */
    NgxBreadcrumbsComponent.prototype.getHomeRoute = /**
     * @return {?}
     */
    function () {
        return this.router.config.filter(function (crumb) { return crumb.data && crumb.data["isHome"]; })[0];
    };
    /**
     * @param {?} route
     * @param {?=} urlPrefix
     * @return {?}
     */
    NgxBreadcrumbsComponent.prototype.getCrumbFromRoute = /**
     * @param {?} route
     * @param {?=} urlPrefix
     * @return {?}
     */
    function (route, urlPrefix) {
        if (urlPrefix === void 0) { urlPrefix = null; }
        return {
            label: route.data && route.data["breadcrumb"],
            url: urlPrefix ? urlPrefix + "/" + route.path : route.path || '/',
            component: route.component && route.component.name,
            icon: route.data["icon"],
            show: route.data.hasOwnProperty('show') ? route.data["show"] : true
        };
    };
    NgxBreadcrumbsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'nvs-ngx-breadcrumbs',
                    template: "\n    <nav aria-label=\"breadcrumb\"\n         *ngIf=\"show\">\n      <ol class=\"breadcrumb\">\n        <li *ngFor=\"let breadcrumb of breadcrumbs\"\n            class=\"breadcrumb-item\"\n            [ngClass]=\"{'active': !breadcrumb.url}\">\n          <a [routerLink]=\"[breadcrumb.url]\"\n             *ngIf=\"breadcrumb.url\">\n            <i class=\"{{ breadcrumb.icon }}\" *ngIf=\"breadcrumb.icon\"></i>\n            {{ breadcrumb.label }}\n          </a>\n          <span *ngIf=\"!breadcrumb.url\">\n            <i class=\"{{ breadcrumb.icon }}\" *ngIf=\"breadcrumb.icon\"></i>\n            {{ breadcrumb.label }}\n          </span>\n        </li>\n      </ol>\n    </nav>\n  ",
                    styles: []
                },] },
    ];
    /** @nocollapse */
    NgxBreadcrumbsComponent.ctorParameters = function () { return [
        { type: Router },
        { type: ActivatedRoute },
        { type: NgxBreadcrumbsService }
    ]; };
    return NgxBreadcrumbsComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var NgxBreadcrumbsModule = /** @class */ (function () {
    function NgxBreadcrumbsModule() {
    }
    NgxBreadcrumbsModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule,
                        RouterModule
                    ],
                    declarations: [NgxBreadcrumbsComponent],
                    exports: [NgxBreadcrumbsComponent],
                    providers: [NgxBreadcrumbsService]
                },] },
    ];
    return NgxBreadcrumbsModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { NgxBreadcrumbsService, NgxBreadcrumbsComponent, NgxBreadcrumbsModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibml2YW5zLW5neC1icmVhZGNydW1icy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vQG5pdmFucy9uZ3gtYnJlYWRjcnVtYnMvbGliL25neC1icmVhZGNydW1icy5zZXJ2aWNlLnRzIiwibmc6Ly9Abml2YW5zL25neC1icmVhZGNydW1icy9saWIvbmd4LWJyZWFkY3J1bWJzLmNvbXBvbmVudC50cyIsIm5nOi8vQG5pdmFucy9uZ3gtYnJlYWRjcnVtYnMvbGliL25neC1icmVhZGNydW1icy5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTmd4QnJlYWRjcnVtYiB9IGZyb20gJy4vbmd4LWJyZWFkY3J1bWInO1xuXG5ASW5qZWN0YWJsZSh7cHJvdmlkZWRJbjogJ3Jvb3QnfSlcbmV4cG9ydCBjbGFzcyBOZ3hCcmVhZGNydW1ic1NlcnZpY2Uge1xuICBkeW5hbWljQ3J1bWJzOiBTdWJqZWN0PE5neEJyZWFkY3J1bWI+ID0gbmV3IFN1YmplY3Q8Tmd4QnJlYWRjcnVtYj4oKTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIGN1c3RvbUNydW1iVGl0bGUodGl0bGU6IHN0cmluZywgY29tcG9uZW50Pykge1xuICAgIGNvbnN0IGNydW1iOiBOZ3hCcmVhZGNydW1iID0ge2xhYmVsOiB0aXRsZSwgY29tcG9uZW50OiBjb21wb25lbnR9O1xuICAgIHRoaXMuZHluYW1pY0NydW1icy5uZXh0KGNydW1iKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlLCBOYXZpZ2F0aW9uRW5kLCBSb3V0ZXIsIFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IGZpbHRlciwgbWFwIH0gZnJvbSAncnhqcy9pbnRlcm5hbC9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgTmd4QnJlYWRjcnVtYiB9IGZyb20gJy4vbmd4LWJyZWFkY3J1bWInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE5neEJyZWFkY3J1bWJzU2VydmljZSB9IGZyb20gJy4vbmd4LWJyZWFkY3J1bWJzLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdudnMtbmd4LWJyZWFkY3J1bWJzJyxcbiAgdGVtcGxhdGU6IGBcbiAgICA8bmF2IGFyaWEtbGFiZWw9XCJicmVhZGNydW1iXCJcbiAgICAgICAgICpuZ0lmPVwic2hvd1wiPlxuICAgICAgPG9sIGNsYXNzPVwiYnJlYWRjcnVtYlwiPlxuICAgICAgICA8bGkgKm5nRm9yPVwibGV0IGJyZWFkY3J1bWIgb2YgYnJlYWRjcnVtYnNcIlxuICAgICAgICAgICAgY2xhc3M9XCJicmVhZGNydW1iLWl0ZW1cIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwieydhY3RpdmUnOiAhYnJlYWRjcnVtYi51cmx9XCI+XG4gICAgICAgICAgPGEgW3JvdXRlckxpbmtdPVwiW2JyZWFkY3J1bWIudXJsXVwiXG4gICAgICAgICAgICAgKm5nSWY9XCJicmVhZGNydW1iLnVybFwiPlxuICAgICAgICAgICAgPGkgY2xhc3M9XCJ7eyBicmVhZGNydW1iLmljb24gfX1cIiAqbmdJZj1cImJyZWFkY3J1bWIuaWNvblwiPjwvaT5cbiAgICAgICAgICAgIHt7IGJyZWFkY3J1bWIubGFiZWwgfX1cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPHNwYW4gKm5nSWY9XCIhYnJlYWRjcnVtYi51cmxcIj5cbiAgICAgICAgICAgIDxpIGNsYXNzPVwie3sgYnJlYWRjcnVtYi5pY29uIH19XCIgKm5nSWY9XCJicmVhZGNydW1iLmljb25cIj48L2k+XG4gICAgICAgICAgICB7eyBicmVhZGNydW1iLmxhYmVsIH19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2xpPlxuICAgICAgPC9vbD5cbiAgICA8L25hdj5cbiAgYCxcbiAgc3R5bGVzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hCcmVhZGNydW1ic0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIGN1c3RvbUNydW1icyA9IFtdO1xuICBicmVhZGNydW1iczogTmd4QnJlYWRjcnVtYltdO1xuICBzaG93ID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJvdXRlcjogUm91dGVyLFxuICAgICAgICAgICAgICBwcml2YXRlIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSBzZXJ2aWNlOiBOZ3hCcmVhZGNydW1ic1NlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5yb3V0ZXIuZXZlbnRzXG4gICAgICAucGlwZShmaWx0ZXIoZXZlbnQgPT4gZXZlbnQgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSlcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICB0aGlzLmJyZWFkY3J1bWJzID0gdGhpcy5oYW5kbGVSb3V0ZSh0aGlzLmFjdGl2YXRlZFJvdXRlLnJvb3QpO1xuICAgICAgfSk7XG4gICAgdGhpcy5zZXJ2aWNlLmR5bmFtaWNDcnVtYnMuc3Vic2NyaWJlKGNydW1iID0+IHtcbiAgICAgIHRoaXMuY3VzdG9tQ3J1bWJzW2NydW1iLmNvbXBvbmVudF0gPSBjcnVtYjtcbiAgICAgIHRoaXMuYnJlYWRjcnVtYnMgPSB0aGlzLmhhbmRsZVJvdXRlKHRoaXMuYWN0aXZhdGVkUm91dGUucm9vdCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVSb3V0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBBcnJheTxOZ3hCcmVhZGNydW1iPiA9IFtdKTpcbiAgQXJyYXk8Tmd4QnJlYWRjcnVtYj4ge1xuICAgIGlmIChicmVhZGNydW1icy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFkY3J1bWJzLnB1c2godGhpcy5nZXRDcnVtYkZyb21Sb3V0ZSh0aGlzLmdldEhvbWVSb3V0ZSgpKSk7XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlLnJvdXRlQ29uZmlnICE9PSBudWxsICYmXG4gICAgICAgICdkYXRhJyBpbiByb3V0ZS5yb3V0ZUNvbmZpZyAmJlxuICAgICAgICAnYnJlYWRjcnVtYicgaW4gcm91dGUucm91dGVDb25maWcuZGF0YSAmJlxuICAgICAgICAhcm91dGUucm91dGVDb25maWcuZGF0YS5pc0hvbWVcbiAgICApIHtcbiAgICAgIGNvbnN0IHVybFByZWZpeCA9IGJyZWFkY3J1bWJzW2JyZWFkY3J1bWJzLmxlbmd0aCAtIDFdID8gYnJlYWRjcnVtYnNbYnJlYWRjcnVtYnMubGVuZ3RoIC0gMV0udXJsIDogJyc7XG4gICAgICBjb25zdCBjdXN0b21DcnVtYiA9IHJvdXRlLnJvdXRlQ29uZmlnLmNvbXBvbmVudCAmJiB0aGlzLmN1c3RvbUNydW1ic1tyb3V0ZS5yb3V0ZUNvbmZpZy5jb21wb25lbnQubmFtZV07XG4gICAgICBjb25zdCBkZWZhdWx0Q3J1bWIgPSB0aGlzLmdldENydW1iRnJvbVJvdXRlKHJvdXRlLnJvdXRlQ29uZmlnLCB1cmxQcmVmaXgpO1xuICAgICAgY29uc3QgY3J1bWIgPSBjdXN0b21DcnVtYiA/IE9iamVjdC5hc3NpZ24oZGVmYXVsdENydW1iLCBjdXN0b21DcnVtYikgOiBkZWZhdWx0Q3J1bWI7XG4gICAgICBicmVhZGNydW1icyA9IFsgLi4uYnJlYWRjcnVtYnMsIGNydW1iIF07XG4gICAgfVxuXG4gICAgaWYgKHJvdXRlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJvdXRlKHJvdXRlLmZpcnN0Q2hpbGQsIGJyZWFkY3J1bWJzKTtcbiAgICB9XG5cbiAgICBkZWxldGUoYnJlYWRjcnVtYnNbYnJlYWRjcnVtYnMubGVuZ3RoIC0gMV0udXJsKTtcbiAgICB0aGlzLnNob3cgPSBicmVhZGNydW1ic1ticmVhZGNydW1icy5sZW5ndGggLSAxXS5zaG93O1xuICAgIHJldHVybiBicmVhZGNydW1icztcbiAgfVxuXG4gIGdldEhvbWVSb3V0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3V0ZXIuY29uZmlnLmZpbHRlcihjcnVtYiA9PiBjcnVtYi5kYXRhICYmIGNydW1iLmRhdGEuaXNIb21lKVswXTtcbiAgfVxuXG4gIGdldENydW1iRnJvbVJvdXRlKHJvdXRlOiBSb3V0ZSwgdXJsUHJlZml4ID0gbnVsbCk6IE5neEJyZWFkY3J1bWIge1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogcm91dGUuZGF0YSAmJiByb3V0ZS5kYXRhLmJyZWFkY3J1bWIsXG4gICAgICB1cmw6IHVybFByZWZpeCA/IGAke3VybFByZWZpeH0vJHtyb3V0ZS5wYXRofWAgOiByb3V0ZS5wYXRoIHx8ICcvJyxcbiAgICAgIGNvbXBvbmVudDogcm91dGUuY29tcG9uZW50ICYmIHJvdXRlLmNvbXBvbmVudC5uYW1lLFxuICAgICAgaWNvbjogcm91dGUuZGF0YS5pY29uLFxuICAgICAgc2hvdzogcm91dGUuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc2hvdycpID8gcm91dGUuZGF0YS5zaG93IDogdHJ1ZVxuICAgIH07XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ3hCcmVhZGNydW1ic0NvbXBvbmVudCB9IGZyb20gJy4vbmd4LWJyZWFkY3J1bWJzLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBOZ3hCcmVhZGNydW1ic1NlcnZpY2UgfSBmcm9tICcuL25neC1icmVhZGNydW1icy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBSb3V0ZXJNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIFJvdXRlck1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtOZ3hCcmVhZGNydW1ic0NvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtOZ3hCcmVhZGNydW1ic0NvbXBvbmVudF0sXG4gIHByb3ZpZGVyczogW05neEJyZWFkY3J1bWJzU2VydmljZV1cbn0pXG5leHBvcnQgY2xhc3MgTmd4QnJlYWRjcnVtYnNNb2R1bGUgeyB9XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtJQVFFOzZCQUZ3QyxJQUFJLE9BQU8sRUFBaUI7S0FFbkQ7Ozs7OztJQUVqQixnREFBZ0I7Ozs7O0lBQWhCLFVBQWlCLEtBQWEsRUFBRSxTQUFVO1FBQ3hDLHFCQUFNLEtBQUssR0FBa0IsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNoQzs7Z0JBVEYsVUFBVSxTQUFDLEVBQUMsVUFBVSxFQUFFLE1BQU0sRUFBQzs7Ozs7Z0NBSmhDOzs7Ozs7OztJQ29DRSxpQ0FBb0IsTUFBYyxFQUNkLGdCQUNBO1FBRkEsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLG1CQUFjLEdBQWQsY0FBYztRQUNkLFlBQU8sR0FBUCxPQUFPOzRCQU5aLEVBQUU7b0JBRVYsSUFBSTtLQUkyQzs7OztJQUV0RCwwQ0FBUTs7O0lBQVI7UUFBQSxpQkFVQztRQVRDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTTthQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLFlBQVksYUFBYSxHQUFBLENBQUMsQ0FBQzthQUNyRCxTQUFTLENBQUM7WUFDVCxLQUFJLENBQUMsV0FBVyxHQUFHLEtBQUksQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMvRCxDQUFDLENBQUM7UUFDTCxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsVUFBQSxLQUFLO1lBQ3hDLEtBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUMzQyxLQUFJLENBQUMsV0FBVyxHQUFHLEtBQUksQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMvRCxDQUFDLENBQUM7S0FDSjs7Ozs7O0lBRUQsNkNBQVc7Ozs7O0lBQVgsVUFBWSxLQUFxQixFQUNyQixXQUFzQztRQUF0Qyw0QkFBQSxFQUFBLGdCQUFzQztRQUVoRCxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzVCLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0Q7UUFFRCxJQUFJLEtBQUssQ0FBQyxXQUFXLEtBQUssSUFBSTtZQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLFdBQVc7WUFDM0IsWUFBWSxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSTtZQUN0QyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxVQUMzQixFQUFFO1lBQ0EscUJBQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7WUFDckcscUJBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdkcscUJBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzFFLHFCQUFNLEtBQUssR0FBRyxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLEdBQUcsWUFBWSxDQUFDO1lBQ3BGLFdBQVcsWUFBUSxXQUFXLEdBQUUsS0FBSyxFQUFFLENBQUM7U0FDekM7UUFFRCxJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7WUFDcEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxRQUFPLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3JELE9BQU8sV0FBVyxDQUFDO0tBQ3BCOzs7O0lBRUQsOENBQVk7OztJQUFaO1FBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLFVBQU8sR0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0U7Ozs7OztJQUVELG1EQUFpQjs7Ozs7SUFBakIsVUFBa0IsS0FBWSxFQUFFLFNBQWdCO1FBQWhCLDBCQUFBLEVBQUEsZ0JBQWdCO1FBQzlDLE9BQU87WUFDTCxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsSUFBSSxjQUFXO1lBQzFDLEdBQUcsRUFBRSxTQUFTLEdBQU0sU0FBUyxTQUFJLEtBQUssQ0FBQyxJQUFNLEdBQUcsS0FBSyxDQUFDLElBQUksSUFBSSxHQUFHO1lBQ2pFLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSTtZQUNsRCxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksUUFBSztZQUNyQixJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksV0FBUSxJQUFJO1NBQ2pFLENBQUM7S0FDSDs7Z0JBckZGLFNBQVMsU0FBQztvQkFDVCxRQUFRLEVBQUUscUJBQXFCO29CQUMvQixRQUFRLEVBQUUsK3FCQW1CVDtvQkFDRCxNQUFNLEVBQUUsRUFBRTtpQkFDWDs7OztnQkE3QnVDLE1BQU07Z0JBQXJDLGNBQWM7Z0JBSWQscUJBQXFCOztrQ0FMOUI7Ozs7Ozs7QUNBQTs7OztnQkFNQyxRQUFRLFNBQUM7b0JBQ1IsT0FBTyxFQUFFO3dCQUNQLFlBQVk7d0JBQ1osWUFBWTtxQkFDYjtvQkFDRCxZQUFZLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQztvQkFDdkMsT0FBTyxFQUFFLENBQUMsdUJBQXVCLENBQUM7b0JBQ2xDLFNBQVMsRUFBRSxDQUFDLHFCQUFxQixDQUFDO2lCQUNuQzs7K0JBZEQ7Ozs7Ozs7Ozs7Ozs7OzsifQ==