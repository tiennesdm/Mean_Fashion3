!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators"),require("rxjs/internal/operators"),require("@angular/core"),require("@angular/router"),require("@angular/common"),require("@angular/platform-browser/animations"),require("@angular/material/toolbar"),require("@angular/material/list")):"function"==typeof define&&define.amd?define("ng7-mat-breadcrumb",["exports","rxjs","rxjs/operators","rxjs/internal/operators","@angular/core","@angular/router","@angular/common","@angular/platform-browser/animations","@angular/material/toolbar","@angular/material/list"],e):e(r["ng7-mat-breadcrumb"]={},r.rxjs,r.rxjs.operators,r.rxjs["internal/operators"],r.ng.core,r.ng.router,r.ng.common,r.ng.platformBrowser.animations,r.ng.material.toolbar,r.ng.material.list)}(this,function(r,e,t,a,n,o,i,l,u,s){"use strict";var c=function(){function r(){this.breadcrumbLabels=new e.BehaviorSubject([])}return r.prototype.updateBreadcrumbLabels=function(r){this.breadcrumbLabels.next(r)},r.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],r.ctorParameters=function(){return[]},r.ngInjectableDef=n.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r}();function h(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}}var m=function(){function r(r,e,t){this.activatedRoute=r,this.router=e,this.ng7MatBreadcrumbService=t,this.breadcrumb=[],this.breadCrumbData()}return r.prototype.ngOnInit=function(){var t=this;this.ng7MatBreadcrumbService.breadcrumbLabels.subscribe(function(c){var r=function(s){c.hasOwnProperty(s)&&t.breadcrumb.map(function(r){var e,t,a=r.label.match(/[^{{]+(?=\}})/g);if(a)try{for(var n=h(a),o=n.next();!o.done;o=n.next()){var i=o.value,l=c[s];i===s&&(r.label=r.label.replace("{{"+i+"}}",l))}}catch(u){e={error:u}}finally{try{o&&!o.done&&(t=n["return"])&&t.call(n)}finally{if(e)throw e.error}}})};for(var e in c)r(e)})},r.prototype.breadCrumbData=function(){var e=this;this.router.events.pipe(t.filter(function(r){return r instanceof o.NavigationEnd})).pipe(a.map(function(){return e.activatedRoute})).pipe(a.map(function(r){for(;r.firstChild;)r=r.firstChild;return r})).pipe(t.filter(function(r){return r.outlet===o.PRIMARY_OUTLET})).subscribe(function(v){if(v.snapshot.data.breadcrumb){var r=JSON.parse(JSON.stringify(v.snapshot.data.breadcrumb));r.map(function(r){var e,t,a,n,o=r.url.split("/");try{for(var i=h(o),l=i.next();!l.done;l=i.next()){var u=l.value;if(u.includes(":")){var s=u.replace(":",""),c=v.snapshot.params[s];r.url=r.url.replace(":"+s,c)}}}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=i["return"])&&t.call(i)}finally{if(e)throw e.error}}var m=r.label.match(/[^{{]+(?=\}})/g);if(m)try{for(var b=h(m),d=b.next();!d.done;d=b.next()){var p=d.value;(c=v.snapshot.params[p.trim()])&&(r.label=r.label.replace("{{"+p+"}}",c))}}catch(g){a={error:g}}finally{try{d&&!d.done&&(n=b["return"])&&n.call(b)}finally{if(a)throw a.error}}}),e.breadcrumb=r}else e.breadcrumb=[]})},r.decorators=[{type:n.Component,args:[{selector:"app-ng7-mat-breadcrumb",template:'<mat-toolbar class="mat-bread-crumb">\n    <mat-list class="mat-bread-crumb-list" *ngIf="breadcrumb.length">\n        <mat-list-item>\n            <span class="mat-bread-crumb-spacer">\n                <span *ngFor="let item of breadcrumb; let i = index">\n                    <a *ngIf="item?.url" [routerLink]="item?.url" class="mat-bread-crumb-list-item">{{ item.label }}</a>\n                    <span *ngIf="!item?.url" class="mat-bread-crumb-list-item">{{ item.label }}</span>\n                    <span *ngIf="breadcrumb.length !== i+1"> / </span>\n                </span>\n            </span>\n        </mat-list-item>\n    </mat-list>\n</mat-toolbar>',styles:[".mat-bread-crumb{height:30px;background-color:#f1efeb}.mat-bread-crumb-list{padding-bottom:10px}.mat-bread-crumb-list-item{font-size:15px}.mat-bread-crumb-spacer{margin-left:-20px}"]}]}],r.ctorParameters=function(){return[{type:o.ActivatedRoute},{type:o.Router},{type:c}]},r}(),b=function(){function r(){}return r.decorators=[{type:n.NgModule,args:[{declarations:[m],imports:[o.RouterModule,i.CommonModule,l.BrowserAnimationsModule,u.MatToolbarModule,s.MatListModule],exports:[m]}]}],r}();r.Ng7MatBreadcrumbService=c,r.Ng7MatBreadcrumbComponent=m,r.Ng7MatBreadcrumbModule=b,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=ng7-mat-breadcrumb.umd.min.js.map